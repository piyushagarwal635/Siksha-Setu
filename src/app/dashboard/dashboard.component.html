<nav class="navbar">
    <div class="nav-left">
        <img src="WhatsApp Image 2025-02-01 at 13.33.00_14d0087d.jpg" alt="Profile Picture">
        <span class=" fst-italic">&nbsp;&nbsp;Siksha Setu</span>
    </div>
    <div class="nav-center">
      <a (click)="about()">About</a>
      <a (click)="resources()">Resources</a>
      <a (click)="cources()">Courses</a>
      <a (click)="contact()">Contact</a>
    </div>
    <div class="nav-right">
      <div class="search">
        <input type="text" placeholder="Search...">
        <button><i class="bi bi-search"></i></button>
      </div>
      <div>
        <div class="position-relative d-inline-block">
          <div class="avatar-button" (click)="toggleMenu()">
            <img
              [src]="profileImage || defaultAvatar"
              alt="User Avatar"
              class="rounded-circle"
              style="width: 40px; height: 40px; cursor: pointer;"
            />
          </div>
        
          
          <div *ngIf="menuOpen" class="dropdown-menu show mt-2 position-absolute shadow p-3 bg-white rounded" style="min-width: 14rem; right: 0;">
            <p class="fw-bold mb-1">User Name: {{ userName }}</p>
            <p class="text-muted small mb-2">Disability Id: {{ disabilityId }}</p>
            
            
            <hr/>
            <label class="text-primary d-block mb-2 cursor-pointer">
              <i class="bi bi-camera"></i> Change Profile Picture
              <input type="file" (change)="onFileSelected($event)" hidden />
            </label>
            
            <div *ngIf="profileImage" class="mb-2 text-center">
              <img [src]="profileImage" alt="Profile Preview" class="rounded-circle border" width="80" height="80" />
              <button class="btn btn-outline-danger btn-sm mt-2" (click)="removeProfileImage()">Remove</button>
            </div>
            
            <hr/>
            <button class="btn btn-danger w-100" (click)="logout()">
              <i class="bi bi-box-arrow-right"></i> Logout
            </button>
          </div>
        </div>
      </div>
    </div> 
</nav>

<div class="main-layout">
  <div class="sidebar">
    <h2 class="sidebar-title">Navigation</h2>
    <button routerLink="main" class="sidebar-btn">Home</button>
    <button routerLink="/dashboard/studentdashboard" class="sidebar-btn" >Student Dashboard</button>
    <button routerLink="/dashboard/admindashboard" class="sidebar-btn" >Admin Dashboard</button>
    <button routerLink="/dashboard/educatordashboard" class="sidebar-btn" >Educator Dashboard</button>

    <mat-accordion class="info-accordion">
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title><i class="bi bi-link-45deg"></i>&nbsp;&nbsp;Useful Links</mat-panel-title>
        </mat-expansion-panel-header>
        <p><a href="#">Academic Calendar</a></p>
        <p><a href="#">Online Resources</a></p>
        <p><a href="#">Educational Blog</a></p>
      </mat-expansion-panel>

      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title><i class="bi bi-question-circle"></i>&nbsp;&nbsp;FAQs</mat-panel-title>
        </mat-expansion-panel-header>
        <p>How to register for a course?</p>
        <p>What are the upcoming events?</p>
      </mat-expansion-panel>
    </mat-accordion>
  </div>

  <div class="content">
    <router-outlet></router-outlet>
  </div>
  <div class="chatbot-icon" (click)="toggleChatbot()" title="Open Chatbot">
    ðŸ’¬
  </div>
  <div class="chatbot-text">Ai Chat</div>
  <div class="chatbot-popup" *ngIf="showChatbot">
    <iframe 
      src="https://cdn.botpress.cloud/webchat/v2.2/shareable.html?configUrl=https://files.bpcontent.cloud/2025/02/02/07/20250202073519-TKZMWKTW.json" 
      width="350px" 
      height="500px" 
      frameborder="0" 
      style="border: none; overflow: hidden;"
      title="chatbot">
    </iframe>
  </div>

</div>
<div *ngIf="showWarning" class="warning-overlay">
  <p>Please open as a desktop site.</p>
</div>
